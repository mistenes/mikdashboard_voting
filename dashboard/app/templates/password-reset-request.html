<!DOCTYPE html>
<html lang="hu">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>MIK Tagszervezeti Platform – Jelszó visszaállítása</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body class="auth-surface" data-auth-page="password-reset-request">
    <main class="auth-layout">
      <section class="auth-hero">
        <div class="auth-brand">
          <span class="auth-badge">MIK Tagszervezeti Platform</span>
          <h1>Új jelszóra van szükséged?</h1>
          <p>
            Írd be a regisztrált e-mail címedet, és küldünk egy biztonságos
            hivatkozást, amellyel új jelszót állíthatsz be.
          </p>
        </div>
        <ul class="auth-highlights">
          <li>
            <h2>Biztonságos folyamat</h2>
            <p>Csak a megerősített fiókok kaphatnak visszaállító levelet.</p>
          </li>
          <li>
            <h2>Egyszerű lépések</h2>
            <p>A levélben található gombra kattintva azonnal megadhatod az új jelszót.</p>
          </li>
          <li>
            <h2>Segítőkész csapat</h2>
            <p>Ha elakadsz, a MIK admin csapata készséggel segít.</p>
          </li>
        </ul>
      </section>
      <section class="auth-panel" aria-labelledby="reset-request-title">
        <header class="auth-panel__header">
          <h1 id="reset-request-title">Jelszó visszaállítása</h1>
          <p class="auth-panel__lead">
            Add meg az e-mail címedet, és ha létezik fiók ezzel a címmel,
            néhány percen belül levelet küldünk a további lépésekhez.
          </p>
        </header>
        <form
          id="password-reset-request-form"
          class="auth-panel__form"
          method="post"
          action="/elfelejtett-jelszo"
          novalidate
          {% if form_complete %}data-complete="true"{% endif %}
        >
          <label class="auth-input" {% if email_invalid %}data-invalid="true"{% endif %}>
            <span class="auth-input__label">E-mail cím</span>
            <div class="auth-input__field">
              <input
                id="password-reset-email"
                name="email"
                type="email"
                placeholder="te@szervezeted.hu"
                autocomplete="username"
                required
                value="{{ prefill_email | default('') | e }}"
                {% if form_complete %}readonly{% endif %}
              />
            </div>
            <span class="auth-input__error" id="password-reset-email-error"
              >{{ email_error | default('') }}</span
            >
          </label>
          <button
            type="submit"
            class="primary-btn auth-panel__submit"
            {% if form_complete %}disabled{% endif %}
          >
            {% if form_complete %}
              Kérés elküldve
            {% else %}
              Jelszó visszaállító e-mail küldése
            {% endif %}
          </button>
        </form>
        <p
          id="password-reset-request-status"
          class="auth-panel__status{% if status_state in ['pending', 'success', 'error'] %} {{ status_state }}{% endif %}"
          role="{{ 'alert' if status_state == 'error' else 'status' }}"
          aria-live="polite"
          data-state="{{ status_state or 'idle' }}"
          {% if not status_message %}hidden{% endif %}
        >
          {{ status_message | default('') }}
        </p>
        <p class="auth-panel__footer">
          Mégis emlékszel a jelszavadra?
          <a href="/">Vissza a bejelentkezéshez</a>.
        </p>
      </section>
    </main>
    <script src="/static/password-reset-request.js?v=20240506" defer></script>
  </body>
</html>
